
## Условия отбора записей из соцсетей для публикации к новость в приложении КапиПара

### В приложении не публикуются записи, если:

- Запись имеет меньше 100 символов
- Запись не имеет хотя бы 1 прикрепленную картинку (в формате картинки, а не документа)
- Запись маркирована как рекламный пост
- Запись содержит негативные, опасные, политические высказывания
- Запись не содержит в себе подходящий текст для заголовка (условия ниже)

### Все новости сначала проходятся через нейросеть, из них генерируется заголовок и текстовое превью. 
В случае, если произошла ошибка, либо нейросеть недоступна, то заголовок и текстовое превью генерируются линейно (условия ниже)

### Автоматический отбор заголовка:

Заголовок собирается из первого предложения первого абзаца текста, причем, если первый абзац содержит хэштэг, то он игнорируется (данный хэштэг сохраняется в отедльном поле)

Заголовок выбирается из первого предложения, имеющего хотя бы 15 символов.

Новость не публикуется, если первые 3 абзаца не содержат заголовка.

### Автоматический отбор текстового превью:

Текстовое превью (короткое описание) отображается в сниппете новости, в формате вывода списка новостей в приложении (или на сайте).

Снипет отбирается из первого абзаца, больше 15 символов, не содержащий хэштэг.
Если подходящий абзац больше 200 символов, то текст обрезается до последнего предложения, помещяющегося в предел в 200 символов.

### Автоматический отбор хэштэга:

Хэштэг (например "#новости@kaiknitu"), определяется как первое появившиеся в тексте конструкция с символом # в начале.
Если длина хэштэга больше 25 символов, то хэштэг не сохраняется.

### Картинки к новости

Превью к новости показывается в сниппете новости (при просмотре списка новостей) и при полном просмотре новости вверху экрана.
При наличии нескольких картинок, в превью идет первая картинка, а последующие вставляются в конце новости.

Наилучшее соотношение сторон для картинки превью (ширина к высоте) 3 к 2 (коэфф ~1.5)

